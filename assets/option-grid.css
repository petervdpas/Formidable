/* option-grid.css */

/* Grid container */
.option-grid {
  box-sizing: border-box;
  font-family: inherit;
  font-size: 0.9em;
  color: var(--popup-fg);
  background: var(--popup-bg);
  border: 1px solid var(--popup-border);
  border-radius: 6px;
  padding: 3px;

  display: grid; /* column/row templates are set inline from JS */
  gap: 6px;
}

.option-grid.compact {
  font-size: 0.85em;
  border-radius: 4px;
  padding: 2px;
  gap: 4px;
}

/* Individual cells (buttons) */
.option-grid .popup-option {
  display: flex;
  align-items: center;
  justify-content: center;

  box-sizing: border-box;
  width: 100%;
  height: 100%;
  padding: 0;
  margin: 0;

  border: 1px solid color-mix(in srgb, var(--popup-border), transparent 60%);
  background: transparent;
  color: inherit;
  border-radius: 4px;

  line-height: 1;
  cursor: pointer;
  font: inherit;
  transition: background-color .15s ease, box-shadow .15s ease;
}

.option-grid .popup-option:hover,
.option-grid .popup-option:focus {
  background: var(--popup-option-hover);
  outline: none;
}

.option-grid .popup-option:focus-visible {
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--popup-border), transparent 50%);
}

/* Placeholder (empty) cells */
.option-grid .popup-option.is-placeholder {
  opacity: .35;
  cursor: default;
  pointer-events: none;
  border-style: dashed;
  background: transparent;
}

/* =============================================
   Local overrides to win against popup.css
   ============================================= */
#my-popup .option-grid .popup-option {
  border: 1px solid color-mix(in srgb, var(--popup-border), transparent 60%) !important;
  background: transparent !important;
}

#my-popup .option-grid .popup-option.is-placeholder {
  border: 1px dashed var(--popup-border) !important;
  background: transparent !important;
}

/* =============================================
   Make the popup panel wrap to content nicely
   ============================================= */
#my-popup.popup-panel {
  display: inline-block;
  width: auto;
  min-width: 0;
  max-width: none;
  padding: 6px;
  overflow: visible; /* avoid clipping the grid shadow/focus ring */
}

#my-popup .option-grid {
  padding: 4px;
}
